<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Turkish stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="pull-left"><img src="/snub-dodecahedron.gif" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
	  <span id="forkongithub"><a href="https://github.com/snowballstem/snowball">Fork me on GitHub</a></span>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-2">
          
        </div>
        <div class="col-md-10">
          <h1>Turkish stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/turkish.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/turkish/voc.txt">Sample Turkish vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/turkish/output.txt">Its stemmed equivalent</a></li>
<li> <a href="accompanying_paper.doc">  Accompanying description</a> (this is a &nbsp;<code>.doc</code>&nbsp; file)
</ul>

<p>
This page is a &#8216;placeholder&#8217; for the Turkish stemming algorithm provided by
Evren Kapusuz Cilden. Evren explains that she has been following the paper,
</p>

<DL><DD>
<p>
Gulsen Eryigit and Esref Adali.
<B><I>An Affix Stripping Morphological Analyzer for Turkish</I></B>
Proceedings of the <FONT SIZE=-1>IAESTED</FONT> International
Conference
<FONT SIZE=-1>ARTIFICIAL INTELLIGENCE AND APPLICATIONS</FONT>, February 16-18,2004, Innsbruck, Austria.
</p>
</DL>

<h2>The algorithm in Snowball</h2>

<div class="highlight"><pre><span class="cm">/* Stemmer for Turkish</span>
<span class="cm">	* author: Evren (Kapusuz) Çilden</span>
<span class="cm">	* email: evren.kapusuz at gmail.com</span>
<span class="cm">	* version: 1.0 (15.01.2007)</span>


<span class="cm">	* stems nominal verb suffixes</span>
<span class="cm">	* stems nominal inflections</span>
<span class="cm">	* more than one syllable word check</span>
<span class="cm">	* (y,n,s,U) context check</span>
<span class="cm">	* vowel harmony check</span>
<span class="cm">	* last consonant check and conversion (b, c, d, ğ to p, ç, t, k)</span>

<span class="cm">	* The stemming algorithm is based on the paper &quot;An Affix Stripping</span>
<span class="cm">	* Morphological Analyzer for Turkish&quot; by Gülşen Eryiğit and</span>
<span class="cm">	* Eşref Adalı (Proceedings of the IAESTED International Conference</span>
<span class="cm">	* ARTIFICIAL INTELLIGENCE AND APPLICATIONS, February 16-18,2004,</span>
<span class="cm">	* Innsbruck, Austria</span>

<span class="cm">	* Turkish is an agglutinative language and has a very rich morphological</span>
<span class="cm">	* structure. In Turkish, you can form many different words from a single stem</span>
<span class="cm">	* by appending a sequence of suffixes. Eg. The word &quot;doktoruymuşsunuz&quot; means</span>
<span class="cm">	* &quot;You had been the doctor of him&quot;. The stem of the word is &quot;doktor&quot; and it</span>
<span class="cm">	* takes three different suffixes -sU, -ymUs, and -sUnUz. The rules about</span>
<span class="cm">	* the append order of suffixes can be clearly described as FSMs.</span>
<span class="cm">	* The paper referenced above defines some FSMs for right to left</span>
<span class="cm">	* morphological analysis. I generated a method for constructing snowball</span>
<span class="cm">	* expressions from right to left FSMs for stemming suffixes.</span>
<span class="cm">*/</span>

<span class="kd">routines</span> <span class="p">(</span>
	<span class="n">append_U_to_stems_ending_with_d_or_g</span> <span class="c1">// for preventing some overstemmings</span>
	<span class="n">check_vowel_harmony</span>	<span class="c1">// tests vowel harmony for suffixes</span>
	<span class="n">is_reserved_word</span>	<span class="c1">// tests whether current string is a reserved word (&#39;ad&#39;,&#39;soyad&#39;)</span>
	<span class="n">mark_cAsInA</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_DA</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_DAn</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_DUr</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_ki</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_lAr</span>		<span class="c1">// noun suffix, nominal verb suffix</span>
	<span class="n">mark_lArI</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_nA</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_ncA</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_ndA</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_ndAn</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_nU</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_nUn</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_nUz</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_sU</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_sUn</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_sUnUz</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_possessives</span>	<span class="c1">// -(U)m,-(U)n,-(U)mUz,-(U)nUz,</span>
	<span class="n">mark_yA</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_ylA</span>		<span class="c1">// noun suffix</span>
	<span class="n">mark_yU</span>			<span class="c1">// noun suffix</span>
	<span class="n">mark_yUm</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_yUz</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_yDU</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_yken</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_ymUs_</span>		<span class="c1">// nominal verb suffix</span>
	<span class="n">mark_ysA</span>		<span class="c1">// nominal verb suffix</span>

	<span class="n">mark_suffix_with_optional_y_consonant</span>
	<span class="n">mark_suffix_with_optional_U_vowel</span>
	<span class="n">mark_suffix_with_optional_n_consonant</span>
	<span class="n">mark_suffix_with_optional_s_consonant</span>

	<span class="n">more_than_one_syllable_word</span>

	<span class="n">post_process_last_consonants</span>
	<span class="n">postlude</span>

	<span class="n">stem_nominal_verb_suffixes</span>
	<span class="n">stem_noun_suffixes</span>
	<span class="n">stem_suffix_chain_before_ki</span>
<span class="p">)</span>

<span class="kd">stringescapes</span> 	<span class="p">{</span> <span class="p">}</span>

<span class="cm">/* Special characters in Unicode Latin-1 and Latin Extended-A */</span>
<span class="kd">stringdef</span> <span class="n">c,</span>   	<span class="s">&#39;{U+00E7}&#39;</span>	<span class="c1">// LATIN SMALL LETTER C WITH CEDILLA</span>
<span class="kd">stringdef</span> <span class="n">g~</span>   	<span class="s">&#39;{U+011F}&#39;</span>	<span class="c1">// LATIN SMALL LETTER G WITH BREVE</span>
<span class="kd">stringdef</span> <span class="n">i&#39;</span>   	<span class="s">&#39;{U+0131}&#39;</span>	<span class="c1">// LATIN SMALL LETTER I WITHOUT DOT</span>
<span class="kd">stringdef</span> <span class="n">o&quot;</span>  	<span class="s">&#39;{U+00F6}&#39;</span>	<span class="c1">// LATIN SMALL LETTER O WITH DIAERESIS</span>
<span class="kd">stringdef</span> <span class="n">s,</span>	<span class="s">&#39;{U+015F}&#39;</span>	<span class="c1">// LATIN SMALL LETTER S WITH CEDILLA</span>
<span class="kd">stringdef</span> <span class="n">u&quot;</span>  	<span class="s">&#39;{U+00FC}&#39;</span>	<span class="c1">// LATIN SMALL LETTER U WITH DIAERESIS</span>

<span class="kd">integers</span> 	<span class="p">(</span> <span class="n">strlen</span> <span class="p">)</span>	<span class="c1">// length of a string</span>

<span class="kd">booleans</span>	<span class="p">(</span> <span class="n">continue_stemming_noun_suffixes</span> <span class="p">)</span>

<span class="kd">groupings</span> 	<span class="p">(</span> <span class="n">vowel</span> <span class="n">U</span> <span class="n">vowel1</span> <span class="n">vowel2</span> <span class="n">vowel3</span> <span class="n">vowel4</span> <span class="n">vowel5</span> <span class="n">vowel6</span><span class="p">)</span>

<span class="kd">define</span> <span class="n">vowel</span> 	<span class="s">&#39;ae{i&#39;}io{o&quot;}u{u&quot;}&#39;</span>
<span class="kd">define</span> <span class="n">U</span>	<span class="s">&#39;{i&#39;}iu{u&quot;}&#39;</span>

<span class="c1">// the vowel grouping definitions below are used for checking vowel harmony</span>
<span class="kd">define</span> <span class="n">vowel1</span>  	<span class="s">&#39;a{i&#39;}ou&#39;</span> 		<span class="c1">// vowels that can end with suffixes containing &#39;a&#39;</span>
<span class="kd">define</span> <span class="n">vowel2</span>  	<span class="s">&#39;ei{o&quot;}{u&quot;}&#39;</span> 		<span class="c1">// vowels that can end with suffixes containing &#39;e&#39;</span>
<span class="kd">define</span> <span class="n">vowel3</span>  	<span class="s">&#39;a{i&#39;}&#39;</span> 		<span class="c1">// vowels that can end with suffixes containing &#39;i&#39;&#39;</span>
<span class="kd">define</span> <span class="n">vowel4</span>  	<span class="s">&#39;ei&#39;</span>	 		<span class="c1">// vowels that can end with suffixes containing &#39;i&#39;</span>
<span class="kd">define</span> <span class="n">vowel5</span>  	<span class="s">&#39;ou&#39;</span>	 		<span class="c1">// vowels that can end with suffixes containing &#39;o&#39; or &#39;u&#39;</span>
<span class="kd">define</span> <span class="n">vowel6</span>  	<span class="s">&#39;{o&quot;}{u&quot;}&#39;</span> 		<span class="c1">// vowels that can end with suffixes containing &#39;o&quot;&#39; or &#39;u&quot;&#39;</span>

<span class="kd">externals</span> 	<span class="p">(</span> <span class="n">stem</span> <span class="p">)</span>

<span class="kd">backwardmode</span> <span class="p">(</span>
	<span class="c1">// checks vowel harmony for possible suffixes,</span>
	<span class="c1">// helps to detect whether the candidate for suffix applies to vowel harmony</span>
	<span class="c1">// this rule is added to prevent over stemming</span>
	<span class="kd">define</span> <span class="n">check_vowel_harmony</span> <span class="k">as</span> <span class="p">(</span>
		<span class="ow">test</span>
		<span class="p">(</span>
			<span class="p">(</span><span class="ow">goto</span> <span class="n">vowel</span><span class="p">)</span>   <span class="c1">// if there is a vowel</span>
			<span class="p">(</span>
				<span class="p">(</span><span class="s">&#39;a&#39;</span> <span class="ow">goto</span> <span class="n">vowel1</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;e&#39;</span> <span class="ow">goto</span> <span class="n">vowel2</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;{i&#39;}&#39;</span> <span class="ow">goto</span> <span class="n">vowel3</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;i&#39;</span> <span class="ow">goto</span> <span class="n">vowel4</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;o&#39;</span> <span class="ow">goto</span> <span class="n">vowel5</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;{o&quot;}&#39;</span> <span class="ow">goto</span> <span class="n">vowel6</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;u&#39;</span> <span class="ow">goto</span> <span class="n">vowel5</span><span class="p">)</span> <span class="ow">or</span>
				<span class="p">(</span><span class="s">&#39;{u&quot;}&#39;</span> <span class="ow">goto</span> <span class="n">vowel6</span><span class="p">)</span>
			<span class="p">)</span>
		<span class="p">)</span>
	<span class="p">)</span>

	<span class="c1">// if the last consonant before suffix is vowel and n then advance and delete</span>
	<span class="c1">// if the last consonant before suffix is non vowel and n do nothing</span>
	<span class="c1">// if the last consonant before suffix is not n then only delete the suffix</span>
	<span class="c1">// assumption: slice beginning is set correctly</span>
	<span class="kd">define</span> <span class="n">mark_suffix_with_optional_n_consonant</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">(</span><span class="s">&#39;n&#39;</span> <span class="p">(</span><span class="ow">test</span> <span class="n">vowel</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">((</span><span class="ow">not</span><span class="p">(</span><span class="ow">test</span> <span class="s">&#39;n&#39;</span><span class="p">))</span> <span class="ow">test</span><span class="p">(</span><span class="ow">next</span> <span class="n">vowel</span><span class="p">))</span>

	<span class="p">)</span>

	<span class="c1">// if the last consonant before suffix is vowel and s then advance and delete</span>
	<span class="c1">// if the last consonant before suffix is non vowel and s do nothing</span>
	<span class="c1">// if the last consonant before suffix is not s then only delete the suffix</span>
	<span class="c1">// assumption: slice beginning is set correctly</span>
	<span class="kd">define</span> <span class="n">mark_suffix_with_optional_s_consonant</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">(</span><span class="s">&#39;s&#39;</span> <span class="p">(</span><span class="ow">test</span> <span class="n">vowel</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">((</span><span class="ow">not</span><span class="p">(</span><span class="ow">test</span> <span class="s">&#39;s&#39;</span><span class="p">))</span> <span class="ow">test</span><span class="p">(</span><span class="ow">next</span> <span class="n">vowel</span><span class="p">))</span>
	<span class="p">)</span>

	<span class="c1">// if the last consonant before suffix is vowel and y then advance and delete</span>
	<span class="c1">// if the last consonant before suffix is non vowel and y do nothing</span>
	<span class="c1">// if the last consonant before suffix is not y then only delete the suffix</span>
	<span class="c1">// assumption: slice beginning is set correctly</span>
	<span class="kd">define</span> <span class="n">mark_suffix_with_optional_y_consonant</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">(</span><span class="s">&#39;y&#39;</span> <span class="p">(</span><span class="ow">test</span> <span class="n">vowel</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">((</span><span class="ow">not</span><span class="p">(</span><span class="ow">test</span> <span class="s">&#39;y&#39;</span><span class="p">))</span> <span class="ow">test</span><span class="p">(</span><span class="ow">next</span> <span class="n">vowel</span><span class="p">))</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_suffix_with_optional_U_vowel</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">(</span><span class="n">U</span> <span class="p">(</span><span class="ow">test</span> <span class="ow">non-</span><span class="n">vowel</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">((</span><span class="ow">not</span><span class="p">(</span><span class="ow">test</span> <span class="n">U</span><span class="p">))</span> <span class="ow">test</span><span class="p">(</span><span class="ow">next</span> <span class="ow">non-</span><span class="n">vowel</span><span class="p">))</span>

	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_possessives</span> <span class="k">as</span> <span class="p">(</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;m{i&#39;}z&#39;</span> <span class="s">&#39;miz&#39;</span> <span class="s">&#39;muz&#39;</span> <span class="s">&#39;m{u&quot;}z&#39;</span>
		       <span class="s">&#39;n{i&#39;}z&#39;</span> <span class="s">&#39;niz&#39;</span> <span class="s">&#39;nuz&#39;</span> <span class="s">&#39;n{u&quot;}z&#39;</span> <span class="s">&#39;m&#39;</span> <span class="s">&#39;n&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_U_vowel</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_sU</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="n">U</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_s_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_lArI</span> <span class="k">as</span> <span class="p">(</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;leri&#39;</span> <span class="s">&#39;lar{i&#39;}&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yU</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="n">U</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_nU</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;n{i&#39;}&#39;</span> <span class="s">&#39;ni&#39;</span> <span class="s">&#39;nu&#39;</span> <span class="s">&#39;n{u&quot;}&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_nUn</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;{i&#39;}n&#39;</span> <span class="s">&#39;in&#39;</span> <span class="s">&#39;un&#39;</span> <span class="s">&#39;{u&quot;}n&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_n_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;a&#39;</span> <span class="s">&#39;e&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_nA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;na&#39;</span> <span class="s">&#39;ne&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_DA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;da&#39;</span> <span class="s">&#39;de&#39;</span> <span class="s">&#39;ta&#39;</span> <span class="s">&#39;te&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ndA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;nda&#39;</span> <span class="s">&#39;nde&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_DAn</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;dan&#39;</span> <span class="s">&#39;den&#39;</span> <span class="s">&#39;tan&#39;</span> <span class="s">&#39;ten&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ndAn</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;ndan&#39;</span> <span class="s">&#39;nden&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ylA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;la&#39;</span> <span class="s">&#39;le&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ki</span> <span class="k">as</span> <span class="p">(</span>
		<span class="s">&#39;ki&#39;</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ncA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span><span class="p">(</span><span class="s">&#39;ca&#39;</span> <span class="s">&#39;ce&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_n_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yUm</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;{i&#39;}m&#39;</span> <span class="s">&#39;im&#39;</span> <span class="s">&#39;um&#39;</span> <span class="s">&#39;{u&quot;}m&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_sUn</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;s{i&#39;}n&#39;</span> <span class="s">&#39;sin&#39;</span> <span class="s">&#39;sun&#39;</span> <span class="s">&#39;s{u&quot;}n&#39;</span> <span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yUz</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;{i&#39;}z&#39;</span> <span class="s">&#39;iz&#39;</span> <span class="s">&#39;uz&#39;</span> <span class="s">&#39;{u&quot;}z&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_sUnUz</span> <span class="k">as</span> <span class="p">(</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;s{i&#39;}n{i&#39;}z&#39;</span> <span class="s">&#39;siniz&#39;</span> <span class="s">&#39;sunuz&#39;</span> <span class="s">&#39;s{u&quot;}n{u&quot;}z&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_lAr</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;ler&#39;</span> <span class="s">&#39;lar&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_nUz</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;n{i&#39;}z&#39;</span> <span class="s">&#39;niz&#39;</span> <span class="s">&#39;nuz&#39;</span> <span class="s">&#39;n{u&quot;}z&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_DUr</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;t{i&#39;}r&#39;</span> <span class="s">&#39;tir&#39;</span> <span class="s">&#39;tur&#39;</span> <span class="s">&#39;t{u&quot;}r&#39;</span> <span class="s">&#39;d{i&#39;}r&#39;</span> <span class="s">&#39;dir&#39;</span> <span class="s">&#39;dur&#39;</span> <span class="s">&#39;d{u&quot;}r&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_cAsInA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;cas{i&#39;}na&#39;</span> <span class="s">&#39;cesine&#39;</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yDU</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;t{i&#39;}m&#39;</span> <span class="s">&#39;tim&#39;</span> <span class="s">&#39;tum&#39;</span> <span class="s">&#39;t{u&quot;}m&#39;</span> <span class="s">&#39;d{i&#39;}m&#39;</span> <span class="s">&#39;dim&#39;</span> <span class="s">&#39;dum&#39;</span> <span class="s">&#39;d{u&quot;}m&#39;</span>
			<span class="s">&#39;t{i&#39;}n&#39;</span> <span class="s">&#39;tin&#39;</span> <span class="s">&#39;tun&#39;</span> <span class="s">&#39;t{u&quot;}n&#39;</span> <span class="s">&#39;d{i&#39;}n&#39;</span> <span class="s">&#39;din&#39;</span> <span class="s">&#39;dun&#39;</span> <span class="s">&#39;d{u&quot;}n&#39;</span>
			<span class="s">&#39;t{i&#39;}k&#39;</span> <span class="s">&#39;tik&#39;</span> <span class="s">&#39;tuk&#39;</span> <span class="s">&#39;t{u&quot;}k&#39;</span> <span class="s">&#39;d{i&#39;}k&#39;</span> <span class="s">&#39;dik&#39;</span> <span class="s">&#39;duk&#39;</span> <span class="s">&#39;d{u&quot;}k&#39;</span>
			<span class="s">&#39;t{i&#39;}&#39;</span> <span class="s">&#39;ti&#39;</span> <span class="s">&#39;tu&#39;</span> <span class="s">&#39;t{u&quot;}&#39;</span> <span class="s">&#39;d{i&#39;}&#39;</span> <span class="s">&#39;di&#39;</span> <span class="s">&#39;du&#39;</span> <span class="s">&#39;d{u&quot;}&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="c1">// does not fully obey vowel harmony</span>
	<span class="kd">define</span> <span class="n">mark_ysA</span> <span class="k">as</span> <span class="p">(</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;sam&#39;</span> <span class="s">&#39;san&#39;</span> <span class="s">&#39;sak&#39;</span> <span class="s">&#39;sem&#39;</span> <span class="s">&#39;sen&#39;</span> <span class="s">&#39;sek&#39;</span> <span class="s">&#39;sa&#39;</span> <span class="s">&#39;se&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_ymUs_</span> <span class="k">as</span> <span class="p">(</span>
		<span class="n">check_vowel_harmony</span>
		<span class="k">among</span> <span class="p">(</span><span class="s">&#39;m{i&#39;}{s,}&#39;</span> <span class="s">&#39;mi{s,}&#39;</span> <span class="s">&#39;mu{s,}&#39;</span> <span class="s">&#39;m{u&quot;}{s,}&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">mark_yken</span> <span class="k">as</span> <span class="p">(</span>
		<span class="s">&#39;ken&#39;</span> <span class="p">(</span><span class="n">mark_suffix_with_optional_y_consonant</span><span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">stem_nominal_verb_suffixes</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">[</span>
			<span class="ow">set</span> <span class="n">continue_stemming_noun_suffixes</span>
			<span class="p">(</span><span class="n">mark_ymUs_</span> <span class="ow">or</span> <span class="n">mark_yDU</span> <span class="ow">or</span> <span class="n">mark_ysA</span> <span class="ow">or</span> <span class="n">mark_yken</span><span class="p">)</span>
			<span class="ow">or</span>
			<span class="p">(</span><span class="n">mark_cAsInA</span> <span class="p">(</span><span class="n">mark_sUnUz</span> <span class="ow">or</span> <span class="n">mark_lAr</span> <span class="ow">or</span> <span class="n">mark_yUm</span> <span class="ow">or</span> <span class="n">mark_sUn</span> <span class="ow">or</span> <span class="n">mark_yUz</span> <span class="ow">or</span> <span class="kc">true</span><span class="p">)</span> <span class="n">mark_ymUs_</span><span class="p">)</span>
			<span class="ow">or</span>
			<span class="p">(</span>
				<span class="n">mark_lAr</span> <span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([(</span><span class="n">mark_DUr</span> <span class="ow">or</span> <span class="n">mark_yDU</span> <span class="ow">or</span> <span class="n">mark_ysA</span> <span class="ow">or</span> <span class="n">mark_ymUs_</span><span class="p">))</span>
				<span class="ow">unset</span> <span class="n">continue_stemming_noun_suffixes</span>
			<span class="p">)</span>
			<span class="ow">or</span>
			<span class="p">(</span><span class="n">mark_nUz</span> <span class="p">(</span><span class="n">mark_yDU</span> <span class="ow">or</span> <span class="n">mark_ysA</span><span class="p">))</span>
			<span class="ow">or</span>
			<span class="p">((</span><span class="n">mark_sUnUz</span> <span class="ow">or</span> <span class="n">mark_yUz</span> <span class="ow">or</span> <span class="n">mark_sUn</span> <span class="ow">or</span> <span class="n">mark_yUm</span><span class="p">)</span> <span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span> <span class="n">mark_ymUs_</span><span class="p">))</span>
			<span class="ow">or</span>
			<span class="p">(</span><span class="n">mark_DUr</span> <span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span> <span class="p">(</span><span class="n">mark_sUnUz</span> <span class="ow">or</span> <span class="n">mark_lAr</span> <span class="ow">or</span> <span class="n">mark_yUm</span> <span class="ow">or</span> <span class="n">mark_sUn</span> <span class="ow">or</span> <span class="n">mark_yUz</span> <span class="ow">or</span> <span class="kc">true</span><span class="p">)</span> <span class="n">mark_ymUs_</span><span class="p">))</span>
		<span class="p">]</span><span class="ow">delete</span>
	<span class="p">)</span>

	<span class="c1">// stems noun suffix chains ending with -ki</span>
	<span class="kd">define</span> <span class="n">stem_suffix_chain_before_ki</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">[</span>
			<span class="n">mark_ki</span>
			<span class="p">(</span>
				<span class="p">(</span><span class="n">mark_DA</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span>
					<span class="p">(</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
					<span class="ow">or</span>
					<span class="p">(</span><span class="n">mark_possessives</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>

				<span class="p">))</span>
				<span class="ow">or</span>
				<span class="p">(</span><span class="n">mark_nUn</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span>
					<span class="p">(</span><span class="n">mark_lArI</span><span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
					<span class="ow">or</span>
					<span class="p">([</span><span class="n">mark_possessives</span> <span class="ow">or</span> <span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
					<span class="ow">or</span>
					<span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
				<span class="p">))</span>
				<span class="ow">or</span>
				<span class="p">(</span><span class="n">mark_ndA</span> <span class="p">(</span>
					<span class="p">(</span><span class="n">mark_lArI</span><span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
					<span class="ow">or</span>
					<span class="p">((</span><span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span><span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">)))</span>
					<span class="ow">or</span>
					<span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
				<span class="p">))</span>
			<span class="p">)</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">stem_noun_suffixes</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">([</span><span class="n">mark_ncA</span><span class="p">]</span> <span class="ow">delete</span>
			<span class="ow">try</span><span class="p">(</span>
				<span class="p">([</span><span class="n">mark_lArI</span><span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
				<span class="ow">or</span>
				<span class="p">([</span><span class="n">mark_possessives</span> <span class="ow">or</span> <span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
				<span class="ow">or</span>
				<span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
			<span class="p">)</span>
		<span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">([(</span><span class="n">mark_ndA</span> <span class="ow">or</span> <span class="n">mark_nA</span><span class="p">)</span>
			<span class="p">(</span>
		  		<span class="p">(</span><span class="n">mark_lArI</span><span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
		  		<span class="ow">or</span>
		  		<span class="p">(</span><span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
		  		<span class="ow">or</span>
		  		<span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
		  	<span class="p">)</span>
		<span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">([(</span><span class="n">mark_ndAn</span> <span class="ow">or</span> <span class="n">mark_nU</span><span class="p">)</span> <span class="p">((</span><span class="n">mark_sU</span> <span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="n">mark_lArI</span><span class="p">)))</span>
		<span class="ow">or</span>
		<span class="p">(</span> <span class="p">[</span><span class="n">mark_DAn</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span> <span class="p">([</span>
			<span class="p">(</span>
		 		<span class="p">(</span><span class="n">mark_possessives</span> <span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
		 		<span class="ow">or</span>
		 		<span class="p">(</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
		 		<span class="ow">or</span>
		 		<span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
		 	<span class="p">))</span>
		<span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">([</span><span class="n">mark_nUn</span> <span class="ow">or</span> <span class="n">mark_ylA</span><span class="p">]</span> <span class="ow">delete</span>
			<span class="ow">try</span><span class="p">(</span>
				<span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
				<span class="ow">or</span>
				<span class="p">([</span><span class="n">mark_possessives</span> <span class="ow">or</span> <span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
				<span class="ow">or</span>
				<span class="n">stem_suffix_chain_before_ki</span>
			<span class="p">)</span>
		<span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">([</span><span class="n">mark_lArI</span><span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">(</span><span class="n">stem_suffix_chain_before_ki</span><span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">([</span><span class="n">mark_DA</span> <span class="ow">or</span> <span class="n">mark_yU</span> <span class="ow">or</span> <span class="n">mark_yA</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([((</span><span class="n">mark_possessives</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">))</span> <span class="ow">or</span> <span class="n">mark_lAr</span><span class="p">)</span> <span class="p">]</span> <span class="ow">delete</span> <span class="p">[</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
		<span class="ow">or</span>
		<span class="p">([</span><span class="n">mark_possessives</span> <span class="ow">or</span> <span class="n">mark_sU</span><span class="p">]</span> <span class="ow">delete</span> <span class="ow">try</span><span class="p">([</span><span class="n">mark_lAr</span><span class="p">]</span> <span class="ow">delete</span> <span class="n">stem_suffix_chain_before_ki</span><span class="p">))</span>
	<span class="p">)</span>

	<span class="kd">define</span> <span class="n">post_process_last_consonants</span> <span class="k">as</span> <span class="p">(</span>
		<span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
			<span class="s">&#39;b&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;p&#39;</span><span class="p">)</span>
			<span class="s">&#39;c&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;{c,}&#39;</span><span class="p">)</span>
			<span class="s">&#39;d&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;t&#39;</span><span class="p">)</span>
			<span class="s">&#39;{g~}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;k&#39;</span><span class="p">)</span>
		<span class="p">)</span>
	<span class="p">)</span>

	<span class="c1">// after stemming if the word ends with &#39;d&#39; or &#39;g&#39; most probably last U is overstemmed</span>
	<span class="c1">// like in &#39;kedim&#39; -&gt; &#39;ked&#39;</span>
	<span class="c1">// Turkish words don&#39;t usually end with &#39;d&#39; or &#39;g&#39;</span>
	<span class="c1">// some very well known words are ignored (like &#39;ad&#39; &#39;soyad&#39;</span>
	<span class="c1">// appends U to stems ending with d or g, decides which vowel to add</span>
	<span class="c1">// based on the last vowel in the stem</span>
	<span class="kd">define</span> <span class="n">append_U_to_stems_ending_with_d_or_g</span> <span class="k">as</span> <span class="p">(</span>
		<span class="ow">test</span><span class="p">(</span><span class="s">&#39;d&#39;</span> <span class="ow">or</span> <span class="s">&#39;g&#39;</span><span class="p">)</span>
		<span class="p">(</span><span class="ow">test</span><span class="p">((</span><span class="ow">goto</span> <span class="n">vowel</span><span class="p">)</span> <span class="s">&#39;a&#39;</span> <span class="ow">or</span> <span class="s">&#39;{i&#39;}&#39;</span><span class="p">)</span> <span class="o">&lt;+</span> <span class="s">&#39;{i&#39;}&#39;</span><span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">(</span><span class="ow">test</span><span class="p">((</span><span class="ow">goto</span> <span class="n">vowel</span><span class="p">)</span> <span class="s">&#39;e&#39;</span> <span class="ow">or</span> <span class="s">&#39;i&#39;</span><span class="p">)</span> <span class="o">&lt;+</span> <span class="s">&#39;i&#39;</span><span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">(</span><span class="ow">test</span><span class="p">((</span><span class="ow">goto</span> <span class="n">vowel</span><span class="p">)</span> <span class="s">&#39;o&#39;</span> <span class="ow">or</span> <span class="s">&#39;u&#39;</span><span class="p">)</span> <span class="o">&lt;+</span> <span class="s">&#39;u&#39;</span><span class="p">)</span>
		<span class="ow">or</span>
		<span class="p">(</span><span class="ow">test</span><span class="p">((</span><span class="ow">goto</span> <span class="n">vowel</span><span class="p">)</span> <span class="s">&#39;{o&quot;}&#39;</span> <span class="ow">or</span> <span class="s">&#39;{u&quot;}&#39;</span><span class="p">)</span> <span class="o">&lt;+</span> <span class="s">&#39;{u&quot;}&#39;</span><span class="p">)</span>
	<span class="p">)</span>

<span class="p">)</span>

<span class="c1">// Tests if there are more than one syllables</span>
<span class="c1">// In Turkish each vowel indicates a distinct syllable</span>
<span class="kd">define</span> <span class="n">more_than_one_syllable_word</span> <span class="k">as</span> <span class="p">(</span>
	<span class="ow">test</span> <span class="p">(</span><span class="ow">atleast</span> <span class="m">2</span> <span class="p">(</span><span class="ow">gopast</span> <span class="n">vowel</span><span class="p">))</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">is_reserved_word</span> <span class="k">as</span> <span class="p">(</span>
	<span class="ow">test</span><span class="p">(</span><span class="ow">gopast</span> <span class="s">&#39;ad&#39;</span> <span class="p">(</span><span class="o">$</span><span class="n">strlen</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span> <span class="p">(</span><span class="o">$</span><span class="n">strlen</span> <span class="o">==</span> <span class="ow">limit</span><span class="p">))</span>
	<span class="ow">or</span>
	<span class="ow">test</span><span class="p">(</span><span class="ow">gopast</span> <span class="s">&#39;soyad&#39;</span> <span class="p">(</span><span class="o">$</span><span class="n">strlen</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span> <span class="p">(</span><span class="o">$</span><span class="n">strlen</span> <span class="o">==</span> <span class="ow">limit</span><span class="p">))</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">postlude</span> <span class="k">as</span> <span class="p">(</span>
	<span class="ow">not</span><span class="p">(</span><span class="n">is_reserved_word</span><span class="p">)</span>
	<span class="ow">backwards</span> <span class="p">(</span>
		<span class="ow">do</span> <span class="n">append_U_to_stems_ending_with_d_or_g</span>
		<span class="ow">do</span> <span class="n">post_process_last_consonants</span>

	<span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">stem</span> <span class="k">as</span> <span class="p">(</span>
	<span class="p">(</span><span class="n">more_than_one_syllable_word</span><span class="p">)</span>
	<span class="p">(</span>
		<span class="ow">backwards</span> <span class="p">(</span>
			<span class="ow">do</span> <span class="n">stem_nominal_verb_suffixes</span>
			<span class="n">continue_stemming_noun_suffixes</span>
			<span class="ow">do</span> <span class="n">stem_noun_suffixes</span>
		<span class="p">)</span>

	<span class="n">postlude</span>
	<span class="p">)</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-md-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>
